name: push-image-ghcr
description: Builds and deploys a component image
inputs:
  component:
    description: Component name to build the image for
    required: false
  ghcr-user:
    description: Username for GitHub Container Registry
    required: false
  ghcr-password:
    description: Password for GitHub Container Registry
    required: false
  dockerfile:
    description: Path to the Dockerfile, defaults to ./Dockerfile
    required: false
  gh-token:
    description: The github token to delete image tags (only for 'delete' event)
    required: false
    default: ${{ github.token }}
runs:
  using: node16
  main: dist/index.js
